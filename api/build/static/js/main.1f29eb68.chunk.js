(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),i=a.n(o),c=(a(49),a(51),a(2)),l=a(21),s=a.n(l),u=a(3),p="OWN_MESSAGE_OUT",d="ERROR_IN",m="ALL_MSG",f="DELETE_ALL_MSG";function g(e){return function(t){t({type:d,payload:e})}}var E=function(e){var t=Object(u.c)(),a=Object(n.useState)("E@Js#07Do=U$"),r=Object(c.a)(a,2),o=r[0];r[1];s.a.post("/textmessage/login",{password:o}).then(function(e){localStorage.setItem("jwtToken",e.data.token),s.a.defaults.headers.common.Authorization="Bearer"+e.data.token}).catch(function(e){localStorage.removeItem("jwtToken"),401===e.response.status?t(g("Error validating your credentials")):t(g(e.response.statusText))})},y=a(37),v=a(5),h=a(1),_=a(39),b=a.n(_),O=function(e){return r.a.createElement("div",null,e.visible?r.a.createElement("div",{className:"".concat(b.a.DealForm,' animate__animated animate__bounceInLeft"')},"Quick Deal Creation",r.a.createElement("div",{class:"form-row"},r.a.createElement("input",{type:"hidden",class:"form-control",name:"account",value:e.data.Account_Name.id}),r.a.createElement("input",{type:"hidden",class:"form-control",name:"contact",value:e.data.id}),r.a.createElement("div",{class:"form-group col-md-12"},r.a.createElement("label",{for:"title"},"Deal Name"),r.a.createElement("input",{type:"text",class:"form-control",name:"deal_name"})),r.a.createElement("div",{class:"form-group col-md-12"},r.a.createElement("label",{for:"title"},"Lead Source"),r.a.createElement("input",{type:"text",class:"form-control",name:"lead_source",value:"Zeus4 WhatsApp",disabled:!0})),r.a.createElement("div",{class:"form-group col-md-12"},r.a.createElement("label",{for:"title"},"Closing Date"),r.a.createElement("input",{type:"date",class:"form-control",name:"closing_date"})),r.a.createElement("div",{class:"form-group col-md-12"},r.a.createElement("label",{for:"title"},"Description"),r.a.createElement("textarea",{class:"form-control",name:"description"})),r.a.createElement("button",{type:"button",class:"btn btn-primary"},"Set Deal"))):"")};O.defaultProps={};var T=O,A=(a(82),function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],i=a[1];return r.a.createElement("div",{id:"left-column"},r.a.createElement(T,{visible:o,data:e.usrAll}),r.a.createElement("div",{class:"sidebar-notifications"},r.a.createElement("img",{src:"images/notifications.svg",alt:"Default img"}),r.a.createElement("div",{class:"sidebar-notifications-message"},r.a.createElement("span",null,"Zeus4 WABA"))),r.a.createElement("div",{id:"inner-nav"}),r.a.createElement("div",{id:"container"},r.a.createElement("div",{id:"profile"},r.a.createElement("div",{id:"image"},r.a.createElement("img",{id:"profile-photo",src:"./images/no-user.jpg",alt:"attach"}),r.a.createElement("a",{href:"daya"},r.a.createElement("i",{class:"fas fa-pen stroke-transparent"}))),r.a.createElement("p",{id:"name"},e.usrAll.Full_Name,r.a.createElement("br",null),r.a.createElement("span",{id:"email"},e.usrAll.Email)),r.a.createElement("p",{id:"designation"},e.usrAll.Title,r.a.createElement("br",null),r.a.createElement("span",{id:"college"},e.usrAll.Description)),r.a.createElement("p",{id:"designation"},"LeadSource : ",e.usrAll.Lead_Source),r.a.createElement("p",{id:"designation"},"Created Time : ",e.usrAll.Created_Time),r.a.createElement("p",{id:"designation"},"Last Activity Time : ",e.usrAll.Last_Activity_Time),r.a.createElement("p",null,"Type ",r.a.createElement("code",null,"/tpltext "),"to add a WABA Text Template "),r.a.createElement("p",null,"Type ",r.a.createElement("code",null,"/tplmedia "),"to add a WABA Media Template "),r.a.createElement("p",null,"Type ",r.a.createElement("code",null,"/tplshow "),"to view all templates "),r.a.createElement("p",null,"Type ",r.a.createElement("code",null,"/template "),"before template name if you want to send a template ")),r.a.createElement("div",{id:"info-cards"},r.a.createElement("div",{class:"card"},r.a.createElement("p",null,r.a.createElement("i",{class:"fas fa-briefcase stroke-transparent"}),"\xa0\xa0\xa0Account Name"),r.a.createElement("a",{href:"#"},Object(h.isEmpty)(e.usrAll.Account_Name)?"No account associated":e.usrAll.Account_Name.name)),r.a.createElement("div",{class:"card"},r.a.createElement("p",null,r.a.createElement("i",{class:"fas fa-briefcase stroke-transparent"}),"\xa0\xa0\xa0Contact Data"),r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"./images/mobile-2.jpg",alt:"mobile"})," ",e.usrAll.Mobile),r.a.createElement("br",null),r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"./images/phone-2.png",alt:"mobile"}),e.usrAll.Phone)),r.a.createElement("div",{class:"card"},r.a.createElement("p",null,r.a.createElement("i",{class:"fas fa-briefcase stroke-transparent"}),"\xa0\xa0\xa0Address Data"),r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"./images/state-2.png",alt:"mobile"}),e.usrAll.State),r.a.createElement("br",null),r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:"./images/location-2.png",alt:"mobile"}),e.usrAll.City,", ",e.usrAll.Street)),r.a.createElement("div",{class:"card",onClick:function(){i(!0)}},r.a.createElement("p",null,r.a.createElement("i",{class:"fas fa-briefcase stroke-transparent"}),"\xa0\xa0\xa0Set a Deal")))))});A.defaultProps={};var R=A,I=a(6);function w(e){return function(t){t({type:m,payload:e})}}var S=function(e){var t=Object(u.d)(function(e){return e.messages_out}),a=Object(u.c)(),n=Object(h.last)(t);if(Object(h.isEmpty)(n.context)||n.context.message_id,""!==n.message&&null!==n.message){var o={Name:e.user,zeus4waba__Whatsapp_From:e.user,zeus4waba__w:"".concat(n.message),zeus4waba__Whatsapp_Status:"".concat(n.status),zeus4waba__Whatsapp_MessageID:"".concat(n.messageID),zeus4waba__ReplyTo:"".concat(n.replyTo)};v.a.CRM.API.insertRecord({Entity:"zeus4waba__Whatsapps",APIData:o}).then(function(e){var t=e.data[0].details.id;v.a.CRM.API.getRecord({Entity:"zeus4waba__Whatsapps",RecordID:t}).then(function(e){a(w(e.data))})}).catch(function(e){return console.log(e)})}return r.a.createElement("div",null)},D=function(){var e=Object(u.d)(function(e){return e.messages_id}),t=Object(u.c)();if(!Object(h.isEmpty)(e)){var a=Object(h.last)(e);a&&""!==a&&null!==a&&v.a.CRM.API.deleteRecord({Entity:"zeus4waba__Whatsapps",RecordID:"".concat(a)}).then(function(e){var a;"success"!==e.data[0].status&&t((a=e.data[0].message,function(e){e({type:d,payload:a})}))})}},C=function(e){Object(u.c)()(w(Object(h.orderBy)(e.messages,["Created_Time"],["asc"])))},j=(a(84),a(16)),L=a.n(j),N=function(e){var t=Object(u.d)(function(e){return e.all_msgs}),a=Object(u.c)();return r.a.createElement("div",null,t.map(function(n){return null!==n.zeus4waba__w&&""!==n.zeus4waba__w?r.a.createElement("div",{class:null!==n.zeus4waba__Whatsapp_To?"receiver":"sender"},null!==n.zeus4waba__ReplyTo?r.a.createElement("div",{className:L.a.receiverMessageReply},function(e){if(null!==e){var a=t.filter(function(t){return t.zeus4waba__Whatsapp_MessageID===e})[0];if(!Object(h.isEmpty)(a))return"".concat(a.Created_Time.substr(0,17),":  ").concat(a.zeus4waba__w.substr(0,50))}return null}(n.zeus4waba__ReplyTo),"..."):"","           ",r.a.createElement("span",{class:"receiver-message"},n.zeus4waba__w," "),r.a.createElement("span",{className:L.a.alignRight,onClick:function(){return a((e=n.id,function(t){t({type:f,payload:e})}));var e}},r.a.createElement("img",{src:"./images/delete_message-2.jpg",alt:"attach"})),r.a.createElement("span",{className:L.a.alignRight,onClick:function(){return t=n.zeus4waba__Whatsapp_MessageID,a=n.zeus4waba__w,void e.handlerReply(t,a);var t,a}},r.a.createElement("img",{src:"./images/reply.png",alt:"attach"})),"success"===n.zeus4waba__Whatsapp_Status?r.a.createElement("span",{class:"message-status"},r.a.createElement("img",{src:"./images/double-check-seen.svg",alt:"attach"})):r.a.createElement("span",{class:"align-right"},r.a.createElement("img",{src:"./images/error.png",alt:"attach"})),r.a.createElement("span",{class:"message-time align-right"},n.Created_Time)):""}))},x=a(11),P=a(12),M=a(14),U=a(13),k=a(15),F=(a(87),a(89),function(e){function t(){return Object(x.a)(this,t),Object(M.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.errors_in.map(function(e){return r.a.createElement("div",{class:"padre animate__animated animate__bounceOutRight animate__delay-4s"},r.a.createElement("div",null,e))}))}}]),t}(r.a.Component)),W=Object(u.b)(function(e){return{errors_in:e.errors_in}})(F),G=a(10),z=(a(91),function(e){var t=Object(u.c)(),a=Object(n.useState)({visible:e.visible,title:"",language:"en_US",category:"MARKETING",message_text:""}),o=Object(c.a)(a,2),i=o[0],l=o[1],s=function(e){l(Object(I.a)({},i,Object(G.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,e.visible?r.a.createElement("div",{class:"superior-text animate__animated animate__bounceInRight"},r.a.createElement("h3",null,"Text Template"),r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"form-group col-md-6"},r.a.createElement("label",{for:"title"},"Title"),r.a.createElement("input",{type:"text",class:"form-control",name:"title",placeholder:"Template Title",onChange:s})),r.a.createElement("div",{class:"form-group col-md-6"},r.a.createElement("label",{for:"language"},"Language"),r.a.createElement("select",{name:"language",class:"form-control",onChange:s},r.a.createElement("option",{selected:!0},"Choose..."),r.a.createElement("option",{value:"en_US"},"US"),r.a.createElement("option",{value:"es_ES"},"ES"))),r.a.createElement("div",{class:"form-group col-md-6"},r.a.createElement("label",{for:"category"},"Category"),r.a.createElement("select",{name:"category",class:"form-control",onChange:s},r.a.createElement("option",{selected:!0},"Choose..."),r.a.createElement("option",{value:"TRANSACTIONAL"},"Transactional"),r.a.createElement("option",{value:"MARKETING"},"Marketing"),r.a.createElement("option",{value:"OTP"},"OTP"))),r.a.createElement("div",{class:"form-group col-md-6"},r.a.createElement("label",{for:"TemplateText"},"Template Text"),r.a.createElement("textarea",{class:"form-control",placeholder:"Template plain text",name:"message_text",onChange:s}))),r.a.createElement("button",{type:"submit",class:"btn btn-primary",onClick:function(){var a,n={template_name:i.title,language:i.language,category:i.category,template_text:i.message_text,waba_id:e.wabaId};t((a=Object(I.a)({},n),function(e){var t=localStorage.getItem("jwtToken"),n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer: ".concat(t)},body:JSON.stringify(a)};return fetch("/createtemplate",n).then(function(e){return e.json()}).then(function(t){var a=Object(I.a)({},t);if(Object(h.isObject)(a.data)){var n=a.data.id;e({type:d,payload:"Template ".concat(n," waiting for approving")})}else Object(h.isObject)(a.error)&&!Object(h.isEmpty)(a.error)?e({type:d,payload:a.error.message}):Object(h.isObject)(a.errors)&&e({type:d,payload:a.errors.message})}).catch(function(t){e({type:d,payload:"Unknown error"}),console.log("Error action",t)})}))}},"Send Template")):r.a.createElement("div",null))}),B=(a(93),function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(M.a)(this,Object(U.a)(t).call(this,e))).state={visible:a.props.visible},a}return Object(k.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.visible?r.a.createElement("div",{class:"superior-text animate__animated animate__bounceInRight"},r.a.createElement("h3",null,"Media Template"),r.a.createElement("p",null,"Working on it....")):r.a.createElement("div",null))}}]),t}(r.a.Component));B.defaultProps={};var K=B,Z=(a(95),a(23)),H=a.n(Z),q=function(e){var t=function(t){var a=t.target.dataset.template,n=t.target.dataset.language,r=t.target.dataset.message;e.handler(a,n,r)},a=function(e){return e.map(function(e){return e.text})};return r.a.createElement("div",{"data-testid":"WriteWTemplates",className:H.a.WriteWTemplates},r.a.createElement("table",{className:H.a.styledTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Status"),r.a.createElement("td",null,"Language"),r.a.createElement("td",null,"Component"))),r.a.createElement("tbody",null,Object(h.isEmpty)(e.templates)?r.a.createElement("div",null):e.templates.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",{class:"cursor-hand",onClick:t,"data-template":e.name,"data-language":e.language,"data-message":a(e.components)},e.name),r.a.createElement("td",null," ",e.status),r.a.createElement("td",null," ",e.language," "),r.a.createElement("td",null,a(e.components)))}))))},V=function(e){var t=Object(u.c)(),a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1];return r.a.createElement("div",null,e.visible?r.a.createElement("div",{class:"superior-text animate__animated animate__bounceInRight"},r.a.createElement("h3",null,"Template Board"),r.a.createElement("button",{onClick:function(a){var n=localStorage.getItem("jwtToken"),r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer: ".concat(n)},body:JSON.stringify({from:e.wabaId})};return fetch("/gettemplates",r).then(function(e){return e.json()}).then(function(e){var a=Object(I.a)({},e);Object(h.isObject)(a.data)?l(a.data.data):Object(h.isEmpty)(a.error)?Object(h.isObject)(a.errors)&&t({type:d,payload:a.errors.message}):t({type:d,payload:a.error.message})}).catch(function(e){console.log(e),t({type:d,payload:"An unknown error occurred when trying to retrieve WhatsApp Templates"})})}},"Get Templates"),r.a.createElement("div",null,r.a.createElement(q,{handler:function(t,a,n){e.handlerTemp(t,a,n)},templates:i}))):r.a.createElement("div",null))},J=a(40),Q=a.n(J),Y=function(e){return r.a.createElement("div",null,e.visible?r.a.createElement("div",{className:"".concat(Q.a.messageReply," animate__animated animate__fadeInUp")},r.a.createElement("div",{onClick:function(){e.handlerVisibility()}},e.message.substr(0,40)," ...")):r.a.createElement("div",null))},X=function(e){Object(u.d)(function(e){return e.messages_in});var t=Object(u.c)(),a=r.a.useState(""),n=Object(c.a)(a,2),o=n[0],i=n[1],l=r.a.useState(""),s=Object(c.a)(l,2),m=s[0],f=s[1],E=r.a.useState(""),y=Object(c.a)(E,2),v=(y[0],y[1],r.a.useState(!1)),_=Object(c.a)(v,2),b=_[0],O=_[1],T=r.a.useState(!1),A=Object(c.a)(T,2),R=A[0],w=A[1],S=r.a.useState(!1),D=Object(c.a)(S,2),C=D[0],j=D[1],L=r.a.useState({}),x=Object(c.a)(L,2),P=x[0],M=x[1],U=r.a.useState(!1),k=Object(c.a)(U,2),F=k[0],G=k[1],B=r.a.useState(""),Z=Object(c.a)(B,2),H=(Z[0],Z[1]),q=function(){if(0===o.indexOf("/template")){var a=o.split(" "),n=a[1],r=a[2],i={to:e.mobile,template_name:"".concat(n),language:"".concat(r),from:e.whatsappId},c=a[3];return c&&(i.components=[{type:"body"}],i.components[0].parameters=[],c.split(",").map(function(e,t){i.components[0].parameters.push({type:"text",text:"".concat(e)})})),console.log(i),t((l=i,function(e){var t=localStorage.getItem("jwtToken"),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer: ".concat(t)},body:JSON.stringify(l)};return fetch("/sendtemplate",a).then(function(e){return e.json()}).then(function(t){var a=Object(I.a)({},t);if(Object(h.isObject)(a.data)){var n=a.data.messages[0].id;l.messageID=n,l.message="Template message: ".concat(l.template_name),l.status="success",l.replyTo=Object(h.isEmpty)(l.context)?"":l.context.message_id,e({type:p,payload:l})}else Object(h.isObject)(a.error)&&!Object(h.isEmpty)(a.error)?e({type:d,payload:a.error.message}):Object(h.isObject)(a.errors)?e({type:d,payload:a.errors.message}):console.log("SUMATORI",a)}).catch(function(t){e({type:d,payload:"Unknown error"}),console.log("Error action",t)})})),!1}var l;return!0},J=function(e,t){for(var a=e.split(" "),n=[],r=0;r<a.length;r++)console.log(a[r]),a[r].includes("".concat(t))&&n.push("param");return n.join(",")};return r.a.createElement("div",{id:"columna2",class:"main"},r.a.createElement("div",{class:"chat-window"},r.a.createElement(V,{handlerTemp:function(e,t,a){H(e);var n="/template ".concat(e," ").concat(t),r=J(a,"{{");r&&null!==r&&(n+=" ".concat(r)),i("".concat(n)),j(!1)},visible:C,wabaId:e.wabaId}),r.a.createElement(z,{visible:b,wabaId:e.wabaId}),r.a.createElement(K,{visible:R}),r.a.createElement(W,null),r.a.createElement(N,{handlerReply:function(e,t){M({message_id:e}),f(t),G(!0)}}),r.a.createElement(Y,{handlerVisibility:function(){M({}),f(""),G(!1)},visible:F,message:m})),r.a.createElement("div",{class:"type-message-bar"},r.a.createElement("div",{class:"type-message-bar-center"},r.a.createElement("input",{type:"text",name:"",id:"comment",placeholder:"Send a message",value:o,onChange:function(t){switch(i(t.target.value),O(!1),t.target.value){case"/tpltext":O(!0);break;case"/tplmedia":w(!0);break;case"/tplshow":console.log("WabaId",e.wabaId),j(!0);break;default:O(!1),w(!1),j(!1)}}})),r.a.createElement("div",{class:"type-message-bar-right"},r.a.createElement("img",{src:"images/whatsapp-send-1.png",alt:"Send",onClick:function(a){var n;if(a.preventDefault(),Object(h.isEmpty)(e.mobile))t(g("No mobile detected in this contact"));else if(""!==o&&q()){var r={to:e.mobile,message:o,from:e.whatsappId};Object(h.isEmpty)(P)||(r.context=P),t((n=r,function(e){var t=localStorage.getItem("jwtToken"),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer: ".concat(t)},body:JSON.stringify(n)};return console.log("Sending",n),fetch("/textmessage",a).then(function(e){return e.json()}).then(function(t){var a=Object(I.a)({},t);if(Object(h.isObject)(a.data)){var r=a.data.messages[0].id;n.messageID=r,n.status="success",n.replyTo=Object(h.isEmpty)(n.context)?"":n.context.message_id,e({type:p,payload:n})}else Object(h.isObject)(a.error)&&!Object(h.isEmpty)(a.error)?(e({type:d,payload:a.error.message}),n.error=a.error.message,e({type:p,payload:n})):Object(h.isObject)(a.errors)?e({type:d,payload:a.errors.message}):e({type:p,payload:n})}).catch(function(t){e({type:d,payload:"Unknown error"}),console.log("Error action",t)})})),i(""),G(!1),M({}),f("")}}}))))};a(99);function $(){$=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),i=new T(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return R()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=_(i,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=s(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}(e,a,i),o}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var u={};function p(){}function d(){}function m(){}var f={};c(f,r,function(){return this});var g=Object.getPrototypeOf,E=g&&g(g(A([])));E&&E!==t&&a.call(E,r)&&(f=E);var y=m.prototype=p.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function h(e,t){var n;this._invoke=function(r,o){function i(){return new t(function(n,i){!function n(r,o,i,c){var l=s(e[r],e,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(l.arg)}(r,o,n,i)})}return n=n?n.then(i,i):i()}}function _(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(h.prototype),c(h.prototype,o,function(){return this}),e.AsyncIterator=h,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new h(l(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},v(y),c(y,i,"Generator"),c(y,r,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;O(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:A(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var ee=function(){var e=r.a.useState(""),t=Object(c.a)(e,2),a=t[0],o=t[1],i=r.a.useState(""),l=Object(c.a)(i,2),s=l[0],u=l[1],p=r.a.useState(""),d=Object(c.a)(p,2),m=d[0],f=d[1],g=r.a.useState(""),E=Object(c.a)(g,2),h=E[0],_=E[1],b=r.a.useState(""),O=Object(c.a)(b,2),T=O[0],A=O[1],I=r.a.useState(0),w=Object(c.a)(I,2),j=w[0],L=w[1],N=r.a.useState(null),x=Object(c.a)(N,2),P=x[0],M=x[1],U=r.a.useState(!1),k=Object(c.a)(U,2),F=k[0],W=k[1],G=r.a.useState(null),z=Object(c.a)(G,2),B=z[0];return z[1],Object(n.useEffect)(function(){function e(){return(e=Object(y.a)($().mark(function e(){return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.embeddedApp.on("PageLoad",function(e){var t=e.Entity,a=e.EntityId;_(t),f(a.toString()),v.a.CRM.API.getRecord({Entity:t,RecordID:a}).then(function(e){A(e.data[0].Mobile),o(e.data[0])}).then(function(){v.a.CRM.API.searchRecord({Entity:"zeus4waba__Whatsapps",sort_order:"asc",Type:"criteria",Query:"(Name:equals:".concat(a,")")}).then(function(e){u(e.data),W(!0)})}).catch(function(e){return console.log(e)}),v.a.CRM.API.getOrgVariable("zeus4waba__WhatsAppBFrom").then(function(e){L(e.Success.Content)}),v.a.CRM.API.getOrgVariable("zeus4waba__WabaID").then(function(e){M(e.Success.Content)})});case 2:return e.next=4,v.a.embeddedApp.init();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[T]),r.a.createElement("div",null,B?r.a.createElement("div",null,"Error"):F?r.a.createElement("div",null,r.a.createElement(X,{mobile:T,entity:h,whatsappId:j,wabaId:P}),r.a.createElement(R,{usrAll:a}),r.a.createElement(C,{messages:s}),r.a.createElement(S,{user:m}),r.a.createElement(D,null)):r.a.createElement("div",{className:"contenedor"},r.a.createElement("div",{className:"contenido"}," ")))},te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ee,null),r.a.createElement(E,null),r.a.createElement("div",null))},ae=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,102)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)})},ne=a(17),re={articles:[],messages_out:[{mobile:"",message:""}],errors_in:[],messages_id:[],all_msgs:[]};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object.assign({},e,{messages_out:e.messages_out.concat(t.payload)});case d:return Object.assign({},e,{errors_in:e.errors_in.concat(t.payload)});case m:return Object.assign({},e,{all_msgs:e.all_msgs.concat(t.payload)});case f:var a=t.payload;return Object(I.a)({},e,{all_msgs:e.all_msgs.filter(function(e){return e.id!==a}),messages_id:e.messages_id.concat(a)});default:return e}},ie=a(41);var ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.b,le=Object(ne.c)(oe,ce(Object(ne.a)(ie.a)));i.a.createRoot(document.getElementById("root")).render(r.a.createElement(u.a,{store:le},r.a.createElement(te,null))),ae()},16:function(e,t,a){e.exports={alignRight:"WriteAllMsgs_alignRight__uB5c7",receiverMessageReply:"WriteAllMsgs_receiverMessageReply__3Impw"}},23:function(e,t,a){e.exports={WriteWTemplates:"WriteWTemplates_WriteWTemplates__3hj_0",styledTable:"WriteWTemplates_styledTable__3Z7wH","active-row":"WriteWTemplates_active-row__1mZ36"}},39:function(e,t,a){e.exports={DealForm:"DealForm_DealForm__NdGes"}},40:function(e,t,a){e.exports={messageReply:"ShowReplyMsg_messageReply__1xacO"}},42:function(e,t,a){e.exports=a(101)},49:function(e,t,a){},5:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ZOHO});var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),ZSDKUtil=function(e){var t,a=r();function n(e){}function r(e){var t={};return(e=e||window.location.href).substr(e.indexOf("?")+1).split("&").forEach(function(e,a){var n=e.split("=");t[n[0]]=n[1]}),t.hasOwnProperty("serviceOrigin")&&(t.serviceOrigin=decodeURIComponent(t.serviceOrigin)),t}return n.prototype.Info=function(){(e.isDevMode()||e.isLogEnabled())&&window.console.info.apply(null,arguments)},n.prototype.Error=function(){(e.isDevMode()||e.isLogEnabled())&&window.console.error.apply(null,arguments)},e.GetQueryParams=r,e.isDevMode=function(){return a&&a.isDevMode},e.isLogEnabled=function(){return a&&a.isLogEnabled},e.getLogger=function(){return t&&t instanceof n||(t=new n),t},e.Sleep=function(e){for(var t=(new Date).getTime();t+e>(new Date).getTime(););},e}(window.ZSDKUtil||{}),ZSDKMessageManager=function(e){var t,a,n,r=ZSDKUtil.getLogger(),o=100,i={};new RegExp("^https?://[a-zA-Z0-9-_]*.(sandbox.crm-oem.com|csez.zohocorpin.com|zoho.com|zoho.eu|zohoplatform.com|zohosandbox.com)(:[0-9]{0,4})?$");function c(e,r){e.origin;a=window.parent,n=t.QueryParams.serviceOrigin,t.SetContext(r.data),t.ExecuteLoadHandler()}function l(e,t){}function s(e,t){p(t.promiseid,!0,t.data)}function u(e,t){p(t.promiseid,!1,t.data)}function p(e,t,a){i.hasOwnProperty(e)&&(t?i[e].resolve(a):i[e].reject(a),i[e]=void 0,delete i[e])}function d(){return"Promise"+o++}function m(e){return new Promise(function(t,a){i[e]={resolve:t,reject:a,time:(new Date).getTime()}})}function f(e){if("object"===typeof e&&(e.appOrigin=encodeURIComponent(g())),!a)throw new Error("Parentwindow reference not found.");a.postMessage(e,t.QueryParams.serviceOrigin)}function g(){return window.location.protocol+"//"+window.location.host+window.location.pathname}return e.Init=function(o,i){if(!o||"object"!==typeof o)throw Error("Invalid Context object passed");if(i&&"object"!==typeof i)throw Error("Invalid Configuration Passed to MessageManager");return t=o,function(e){try{var o="string"===typeof e.data?JSON.parse(e.data):e.data}catch(d){var o=e.data}var i=o.type,p=o.eventName;try{if("SET_CONTEXT"===p||function(e){var r=e.source,o=e.origin;return!(!t.isAppRegistered()||a!==r||n!==o)||new Error("Un-Authorized Message.")}(e))switch(i){case"FRAMEWORK.EVENT":!function(e,a){a.data;var n={SET_CONTEXT:c,UPDATE_CONTEXT:l,EVENT_RESPONSE:s,EVENT_RESPONSE_FAILURE:u}[a.eventName];n&&"function"===typeof n?n(e,a):function(e,a){ZSDKEventManager.NotifyEventListeners(t.AppContext,a.eventName,a.data)}(0,a)}(e,o);break;default:t.MessageInterceptor(e,o)}}catch(d){r.Error("[SDK.MessageHandler] => ",d.stack)}}.bind(e)},e.RegisterApp=function(){var e={type:"SDK.EVENT",eventName:"REGISTER",appOrigin:encodeURIComponent(g())};window.parent.postMessage(e,t.QueryParams.serviceOrigin)},e.DERegisterApp=function(){f({type:"SDK.EVENT",eventName:"DEREGISTER",uniqueID:t.getUniqueID()})},e.SendRequest=function(e){if(!e||"object"!==typeof e)throw new Error("Invalid Options passed");return function(e,a,n){if(!e)throw new Error("Invalid Eventname : ",e);var r=n?d():void 0;if(f({type:"SDK.EVENT",eventName:e,uniqueID:t.getUniqueID(),time:(new Date).getTime(),promiseid:r,data:a}),n)return m(r)}("HTTP_REQUEST",e,!0)},e.TriggerEvent=function(e,a,n){if(!e)throw new Error("Invalid Eventname : ",e);var r=n?d():void 0;if(f({type:"SDK.EVENT",eventName:e,uniqueID:t.getUniqueID(),time:(new Date).getTime(),promiseid:r,data:a}),n)return m(r)},e}(window.ZSDKMessageManager||{}),ZSDKEventManager=function(e){var t=ZSDKUtil.getLogger(),a={};return e.AttachEventListener=function(e,t){"function"===typeof t&&(Array.isArray(a[e])||(a[e]=[]),a[e].push(t))},e.NotifyEventListeners=function(e,n,r){var o=n.match(/^\__[A-Za-z_]+\__$/gi),i=(Array.isArray(o)&&o.length,a[n]);if(i&&Array.isArray(i))for(var c=0;c<i.length;c++)i[c].call(e,r);else t.Info("Cannot find EventListeners for Event : ",n)},e.NotifyInternalEventHandler=function(e,t){var a=t.eventName;"__APP_INIT__"===a?(e.SetContext(t.data),e.ExecuteLoadHandler()):"__APP_CONTEXT_UPDATE__"===a&&(e.UpdateContext(t.data),e.ExecuteContextUpdateHandler())},e}(window.ZSDKEventManager||{});function ZSDK(){var that=this,AppCode,ContextUpdateHandler,connectors,QueryParams,uniqueID,paramsObj={},localeResource={},version="0.7.0",Logger=ZSDKUtil.getLogger(),_isAppRegistered=!1,isOnLoadTriggered=!1;this.isContextReady=!1,this.HelperContext={},this.isDevMode=!1,this.getContext=function(){return AppContext};var AppContext={};function ExecuteLoadHandler(){"function"===typeof AppCode?isOnLoadTriggered?Logger.Error("OnLoad event already triggered."):(AppCode.call(AppContext,AppContext),isOnLoadTriggered=!0):Logger.Error("No OnLoad Handler provided to execute.")}function ExecuteContextUpdateHandler(){ContextUpdateHandler.call(AppContext,AppContext)}function isAppRegistered(){return _isAppRegistered}function GetRequest(e){return ZSDKMessageManager.SendRequest(e)}function TriggerEvent(e,t,a){return ZSDKMessageManager.TriggerEvent(e,t,a)}function RegisterClient(){ZSDKMessageManager.RegisterApp()}function SetContext(e){Logger.Info("Setting AppContext data");var t=e&&e.model||{};e&&e.locale,e&&e.localeResource;if(window.isDevMode&&e.locale&&e.localeResource&&0===Object.keys(e.localeResource).length&&e.localeResource.constructor===Object&&e.locale&&LoadLocaleResource(e.locale),"undefined"!==typeof ZSDKModelManager){for(var a in t)window.ZSDKModelManager.AddModel(a,t[a]);AppContext.Model=window.ZSDKModelManager.GetModelStore()}uniqueID=e.uniqueID,connectors=e.connectors,Logger.Info("App Connectors ",connectors),_isAppRegistered=!0}function getUniqueID(){return uniqueID}function UpdateContext(e){}function AttachEventListener(e,t){ZSDKEventManager.AttachEventListener(e,t)}function GetConnectors(){return connectors}function LoadLocaleResource(e){_loadJSON("/app-translations/"+e+".json",function(e){localeResource=JSON.parse(e),InitI18n()})}function _loadJSON(e,t){var a=new XMLHttpRequest;a.open("GET",e,!1),a.onreadystatechange=function(){4==a.readyState&&"200"==a.status&&t(a.responseText)},a.send(null)}function Translate(key,options){var valStr="";if(key&&(valStr=_getKeyByString(localeResource,key)),!valStr)return!1;if(options){var key,translateOptions=JSON.parse(JSON.stringify(eval(options))),keysArr=Object.keys(translateOptions);for(key in keysArr)valStr=_replaceString(valStr,"${"+keysArr[key]+"}",translateOptions[keysArr[key]])}return valStr}function _replaceString(e,t,a){for(var n="";n!=e;)n=e,e=e.replace(t,a);return e}function _getKeyByString(e,t){for(var a=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0,r=a.length;n<r;++n){var o=a[n];if(!(o in e))return;e=e[o]}return e}function InitI18n(){var all=document.querySelectorAll("[data-i18n]");for(var i in all)if(all.hasOwnProperty(i)){var valStr=_getKeyByString(localeResource,all[i].getAttribute("data-i18n"));if(!valStr)return!1;if(all[i].hasAttribute("data-options")){var options=JSON.parse(JSON.stringify(eval("("+all[i].getAttribute("data-options")+")"))),keysArr=Object.keys(options),key;for(key in keysArr)valStr=_replaceString(valStr,"${"+keysArr[key]+"}",options[keysArr[key]])}all[i].innerHTML=valStr}}function Bootstrap(){QueryParams=ZSDKUtil.GetQueryParams(),window.isDevMode=!!QueryParams.isDevMode;var e={};e.isDevMode=window.isDevMode,e.ExecuteLoadHandler=ExecuteLoadHandler,e.SetContext=SetContext,e.UpdateContext=UpdateContext,e.QueryParams=QueryParams,e.GetConnectors=GetConnectors,e.TriggerEvent=TriggerEvent,e.ExecuteContextUpdateHandler=ExecuteContextUpdateHandler,e.getUniqueID=getUniqueID,e.isAppRegistered=isAppRegistered;var t=ZSDKMessageManager.Init(e);window.addEventListener("message",t),window.addEventListener("unload",function(){ZSDKMessageManager.DERegisterApp()}),"undefined"!==typeof ZSDKModelManager&&window.ZSDKModelManager.Init(e),RegisterClient()}AppContext.Model={},AppContext.Event={},AppContext.Event.Listen=AttachEventListener,AppContext.Event.Trigger=TriggerEvent,AppContext.GetRequest=GetRequest,AppContext.QueryParams=QueryParams,AppContext.Translate=Translate,this.OnLoad=function(e){if("function"!==typeof e)throw new Error("Invalid Function value is passed");AppCode=e,_isAppRegistered&&ExecuteLoadHandler()},this.OnUnLoad=function(e){},this.OnContextUpdate=function(e){ContextUpdateHandler=e},Bootstrap()}var ZOHO=function(){var e,t,a={},n=!1;return{embeddedApp:{on:function(e,t){a[e]=t},init:function(){var r;if(!n)for(var o in n=!0,e=new ZSDK,t=new Promise(function(e,t){r=e}),e.OnLoad(function(){r()}),a)e.getContext().Event.Listen(o,a[o]);return t}},CRM:function(){function t(t){return t.sdkVersion="1",e.getContext().Event.Trigger("CRM_EVENT",t,!0)}function a(e){var t=e;return new File([t],t.name,{type:t.type})}function n(e,n,r,o){if(n.FileData){var i=a(n.FileData);n.FileData=i}var c={category:"CREATE",Entity:e,RelatedID:r,APIData:n};return c.type=o||"RECORD",t(c)}function r(e){return e.category="BLUEPRINT",t(e)}function o(e){return e.category="APPROVALS",t(e)}function i(e,n,r){if(n.FILE){var o=a(n.FILE.file);n.FILE.file=o}var i;if(r)i=n;else{var c=n.url,l=n.params,s=n.headers,u=n.body,p=n.PARTS,d=n.PART_BOUNDARY,m=n.CONTENT_TYPE,f=n.RESPONSE_TYPE,g=n.FILE;if(!c)throw{Message:"Url missing"};if(l){var E=function(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}(l);c+=(c.indexOf("?")>-1?"&":"?")+E}i={url:c,Header:s,Body:u,CONTENT_TYPE:m,RESPONSE_TYPE:f,PARTS:p,PARTS_BOUNDARY:d,FILE:g}}return t({category:"CONNECTOR",nameSpace:e,data:i,type:r})}function c(e){return jquery__WEBPACK_IMPORTED_MODULE_0__.extend(e,{category:"UI"}),t(e)}function l(e,a,n){return t({category:"CONFIG",type:e,nameSpace:a,APIData:n})}function s(e,a){return t({category:"ACTION",type:e,object:a})}function u(e){var a={category:"USER"};return e.ID?a.ID=e.ID:e.Type&&(a.Type=e.Type,e.page&&(a.page=e.page),e.per_page&&(a.per_page=e.per_page)),t(a)}function p(e){return t({category:"META",type:e.type,Entity:e.Entity,Id:e.Id})}var d="wget.post",m="wget.get",f="wget.put",g="wget.patch",E="wget.delete";return{ACTION:{setConfig:function(e){return s("CUSTOM_ACTION_SAVE_CONFIG",e)},enableAccountAccess:function(e){return s("ENABLE_ACCOUNT_ACCESS",e)}},FUNCTIONS:{execute:function(e,a){var n={};return a.auth_type="oauth",n.data=a,t({category:"FUNCTIONS_EXECUTE",customFunctionName:e,data:n})}},CONFIG:{getOrgInfo:function(e){return l("ORG")},getCurrentUser:function(){return l("CURRENT_USER")},GetCurrentEnvironment:function(){return l("ORG_LEVEL_INFO")}},META:{getFields:function(e){return e.type="FIELD_LIST",p(e)},getModules:function(){return p({type:"MODULE_LIST"})},getAssignmentRules:function(e){return e.type="ASSIGNMENT_RULES",p(e)},getLayouts:function(e){return e.id=e.id?e.id:e.LayoutId,e.type=e.Id?"LAYOUT":"LAYOUTS",p(e)},getRelatedList:function(e){return e.type="RELATED_LIST",p(e)},getCustomViews:function(e){return e.type=e.Id?"CUSTOM_VIEW":"CUSTOM_VIEWS",p(e)}},API:{addNotes:function(e){var t=e.Entity,a=e.RecordID;return n(t,{data:[{Note_Title:e.Title,Note_Content:e.Content}]},a,"NOTES")},addNotesAttachment:function(e){return function(e,a,n,r){return t({category:"UPDATE",type:"NOTES",Entity:e,RecordID:a,RelatedRecordID:n,APIData:r})}(e.Entity,e.RecordID,e.RelatedRecordID,{Files:{FileName:File.Name,FileData:File.Content}})},insertRecord:function(e){var t=e.Entity,a=e.APIData;return a.trigger=e.Trigger,n(t,a)},upsertRecord:function(e){var t=e.Entity,a=e.APIData;return a.trigger=e.Trigger,a.action="UPSERT",e.duplicate_check_fields&&e.duplicate_check_fields instanceof Array&&(a.duplicate_check_fields=e.duplicate_check_fields.join(",")),n(t,a)},getRecord:function(e){return function(e,a,n){return t({category:"READ",APIData:{Entity:e,RecordID:a,RelatedList:n}})}(e.Entity,e.RecordID)},getBluePrint:function(e){return r({Entity:e.Entity,RecordID:e.RecordID,action:"GET_BLUEPRINT_STATUS"})},updateBluePrint:function(e){return r({Entity:e.Entity,RecordID:e.RecordID,BlueprintData:e.BlueprintData,action:"UPDATE_BLUEPRINT_STATUS"})},uploadFile:function(e){return function(e){if(e.FILE){var n=a(e.FILE.file);e.FILE.file=n}return t({FileData:e,category:"FILES",type:"UPLOAD_FILE"})}(e)},getFile:function(e){return(a=e).category="FILES",a.type="DOWNLOAD_FILE",t(a);var a},getAllRecords:function(e){return t({category:"READ",APIData:e})},updateRecord:function(e){var a=e.Entity,n=e.APIData;return n.trigger=e.Trigger,function(e,a){return t({category:"UPDATE",type:"RECORD",Entity:e,APIData:a})}(a,n)},deleteRecord:function(e){return function(e,a){return t({category:"DELETE",type:"RECORD",Entity:e,RecordID:a})}(e.Entity,e.RecordID)},searchRecord:function(e){return function(e,a,n,r,o,i){return t({category:"SEARCH",Entity:e,Type:a,Query:n,page:r,per_page:o,delay:i})}(e.Entity,e.Type,e.Query,e.page,e.per_page,e.delay)},getAllActions:function(e){return e.action="GET_ALL_ACTIONS",o(e)},getApprovalRecords:function(e){var t={};return e?e.action="GET_APPROVAL_RECORDS":(t.action="GET_APPROVAL_RECORDS",e=t),o(e)},getApprovalById:function(e){return e.action="GET_APPROVALBYID",o(e)},getApprovalsHistory:function(){var e={action:"GET_APPROVALS_HISTORY"};return o(e)},approveRecord:function(e){return e.action="UPDATE_APPROVAL",o(e)},getAllUsers:function(e){return u({Type:e.Type,page:e.page,per_page:e.per_page})},getUser:function(e){return u({ID:e.ID})},getRelatedRecords:function(e){return t({category:"READ",APIData:e})},updateRelatedRecords:function(e){return function(e,a,n,r,o){return t({category:"UPDATE",type:"RELATED_RECORD",Entity:e,RecordID:a,RelatedList:n,RelatedRecordID:r,APIData:o})}(e.Entity,e.RecordID,e.RelatedList,e.RelatedRecordID,e.APIData)},delinkRelatedRecord:function(e){return function(e,a,n,r){return t({category:"DELETE",type:"RELATED_RECORD",Entity:e,RecordID:a,RelatedList:n,RelatedRecordID:r})}(e.Entity,e.RecordID,e.RelatedList,e.RelatedRecordID)},attachFile:function(e){var t=e.Entity,a=e.RecordID,r=e.File;return n(t,e={FileName:r.Name,FileData:r.Content},a,"ATTACHMENT")},getAllProfiles:function(e){return t({category:"PROFILES",type:"GET_ALL_PROFILES"})},getProfile:function(e){return function(e,a,n){return t({category:e,type:a,ID:n})}("PROFILES","GET_PROFILE",e.ID)},updateProfile:function(e){return function(e,a,n,r){return t({category:e,type:a,ID:n,APIData:r})}("UPDATE","PROFILE",e.ID,e.APIData)},getOrgVariable:function(e){return l("VARIABLE",e)}},UI:{Resize:function(e){return c(e={action:"RESIZE",data:{width:e.width,height:e.height}})},Dialer:{maximize:function(){return c({action:{telephony:"MAXIMIZE"}})},minimize:function(){return c({action:{telephony:"MINIMIZE"}})},notify:function(){return c({action:{telephony:"NOTIFY"}})}},Record:{open:function(e){return c(e={action:{record:"OPEN"},data:{Entity:e.Entity,RecordID:e.RecordID,target:e.Target}})},edit:function(e){return c(e={action:{record:"EDIT"},data:{Entity:e.Entity,RecordID:e.RecordID,target:e.Target}})},create:function(e){return c(e={action:{record:"CREATE"},data:{Entity:e.Entity,RecordID:e.RecordID,target:e.Target}})},populate:function(e){return c({action:{record:"POPULATE"},data:e})}},Popup:{close:function(){return c({action:{popup:"CLOSE"}})},closeReload:function(){return c({action:{popup:"CLOSE_RELOAD"}})}},Widget:{open:function(e){return c(e={action:{webTab:"OPEN"},data:e})}}},HTTP:{get:function(e){return i(m,e)},post:function(e){return i(d,e)},put:function(e){return i(f,e)},patch:function(e){return i(g,e)},delete:function(e){return i(E,e)}},CONNECTOR:{invokeAPI:function(e,t){return i(e,t,"CONNECTOR_API")},authorize:function(e){return i(e,{},"CONNECTOR_AUTHORIZE")}},CONNECTION:{invoke:function(e,a){var n={},r={};return r.url=a.url,r.method=a.method,r.param_type=a.param_type,r.parameters=JSON.stringify(a.parameters),r.headers=JSON.stringify(a.headers),n.data=r,t({category:"CRM_CONNECTION",connectionName:e,data:n})}}}}()}}()},51:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){e.exports={WTemplateBoard:"WTemplateBoard_WTemplateBoard__3HTkn"}},99:function(e,t,a){}},[[42,3,2]]]);
//# sourceMappingURL=main.1f29eb68.chunk.js.map